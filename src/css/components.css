/* ═══════════════════════════════════════════════════════
   CARDS
   ═══════════════════════════════════════════════════════ */
.cd{
  background:var(--s2);
  border:1px solid var(--b1);
  border-radius:var(--r-lg);
  padding:22px;margin-bottom:14px;
  transition:border-color .15s;
}
.cd:hover{border-color:var(--b2)}
.ct{
  font-size:14px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;
  color:var(--t3);margin-bottom:16px;
  display:flex;align-items:center;gap:8px;
}
.ct .ic{
  width:28px;height:28px;border-radius:var(--r-sm);
  display:flex;align-items:center;justify-content:center;
  font-size:14px;flex-shrink:0;
}
.io{background:var(--accent-glow);color:var(--accent)}
.ig{background:var(--proj-soft);color:var(--proj)}
.ib{background:var(--lead-soft);color:var(--lead)}
.ir{background:var(--comp-soft);color:var(--comp)}
.ior{background:var(--est-soft);color:var(--est)}

/* ═══════════════════════════════════════════════════════
   FORM INPUTS
   ═══════════════════════════════════════════════════════ */
.fg{margin-bottom:14px}
.fg label{
  display:block;font-size:13px;font-weight:600;
  text-transform:uppercase;letter-spacing:.8px;
  color:var(--t3);margin-bottom:6px;
}
.fg input,.fg select,.fg textarea{
  width:100%;
  background:var(--s1);
  border:1px solid var(--b1);
  border-radius:var(--r-sm);
  color:var(--t1);
  font-family:'Inter',system-ui,sans-serif;
  font-size:16px;font-weight:400;
  padding:12px 14px;
  transition:all .15s ease;
  resize:vertical;
}
.fg input::placeholder,.fg textarea::placeholder{color:var(--t4)}
.fg input:focus,.fg select:focus,.fg textarea:focus{
  outline:none;border-color:var(--accent);
  box-shadow:0 0 0 3px var(--accent-glow),var(--shadow-sm);
  background:var(--s2);
}
.fg select{cursor:pointer}
.fg textarea{min-height:72px;line-height:1.5}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}

/* ═══════════════════════════════════════════════════════
   SEARCH
   ═══════════════════════════════════════════════════════ */
.search-bar{margin-bottom:0}
.search-bar input{
  width:100%;
  background:var(--s2);
  border:1px solid var(--b1);
  border-radius:var(--r-md);
  padding:14px 14px 14px 42px;
  color:var(--t1);font-size:16px;
  font-family:'Inter',system-ui,sans-serif;
  transition:all .15s;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242.156a5 5 0 1 1 0-10 5 5 0 0 1 0 10z'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:14px center;
}
.search-bar input:focus{
  outline:none;border-color:var(--accent);
  box-shadow:0 0 0 3px var(--accent-glow);background-color:var(--s3);
}

/* ═══════════════════════════════════════════════════════
   LIST ITEMS
   ═══════════════════════════════════════════════════════ */
.list-item{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px;
  background:var(--s2);border:1px solid var(--b1);
  border-radius:var(--r-md);margin-bottom:6px;
  cursor:pointer;transition:all .15s ease;
}
.list-item:hover{
  background:var(--s3);border-color:var(--b2);
  transform:translateX(2px);
}
.li-left{display:flex;align-items:center;gap:14px;min-width:0}
.li-avatar{
  width:38px;height:38px;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:13px;font-weight:700;flex-shrink:0;letter-spacing:-.5px;
}
.li-avatar.lead{background:var(--lead-soft);color:var(--lead)}
.li-avatar.est{background:var(--est-soft);color:var(--est)}
.li-avatar.proj{background:var(--proj-soft);color:var(--proj)}
.li-avatar.comp{background:var(--comp-soft);color:var(--comp)}
.li-name{font-weight:600;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.li-meta{font-size:14px;color:var(--t3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}
.li-right{text-align:right;flex-shrink:0;margin-left:16px}
.li-amount{font-family:'JetBrains Mono',monospace;font-weight:600;font-size:16px;color:var(--accent)}
.li-badge{
  display:inline-block;font-size:12px;font-weight:600;
  text-transform:uppercase;letter-spacing:.5px;
  padding:2px 8px;border-radius:6px;margin-top:4px;
}
.li-badge.lead{background:var(--lead-soft);color:var(--lead)}
.li-badge.est{background:var(--est-soft);color:var(--est)}
.li-badge.proj{background:var(--proj-soft);color:var(--proj)}
.li-badge.comp{background:var(--comp-soft);color:var(--comp)}

/* ═══════════════════════════════════════════════════════
   STATUS PILLS
   ═══════════════════════════════════════════════════════ */
.status-bar{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.status-pill{
  font-size:14px;font-weight:500;
  padding:8px 20px;border-radius:100px;
  cursor:pointer;transition:all .15s;
  border:1px solid var(--b2);
  background:transparent;color:var(--t3);
  font-family:inherit;
}
.status-pill:hover{background:var(--glass2);color:var(--t2)}
.status-pill.active{font-weight:600}
.status-pill.active.lead{background:var(--lead-soft);color:var(--lead);border-color:rgba(37,99,235,.25)}
.status-pill.active.est{background:var(--est-soft);color:var(--est);border-color:rgba(234,88,12,.25)}
.status-pill.active.proj{background:var(--proj-soft);color:var(--proj);border-color:rgba(22,163,74,.25)}
.status-pill.active.comp{background:var(--comp-soft);color:var(--comp);border-color:rgba(220,38,38,.25)}

.active-toggle{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--t3);font-weight:500}
.toggle{position:relative;width:36px;height:20px;flex-shrink:0}
.toggle input{opacity:0;width:0;height:0}
.toggle .slider{
  position:absolute;inset:0;
  background:#d1d5db;
  border-radius:20px;cursor:pointer;
  transition:all .2s ease;
}
.toggle .slider::before{
  content:'';position:absolute;
  width:16px;height:16px;left:2px;top:2px;
  background:#fff;border-radius:50%;
  transition:all .2s ease;
}
.toggle input:checked+.slider{background:var(--accent)}
.toggle input:checked+.slider::before{transform:translateX(16px);background:#fff}

/* ═══════════════════════════════════════════════════════
   BUTTONS
   ═══════════════════════════════════════════════════════ */
.btn{
  padding:10px 22px;border-radius:var(--r-sm);
  font-size:15px;font-weight:500;cursor:pointer;
  transition:all .15s ease;border:1px solid;
  font-family:inherit;white-space:nowrap;
}
.btn-primary{
  background:linear-gradient(135deg,var(--accent),#2563eb);
  border-color:transparent;color:#fff;font-weight:600;
}
.btn-primary:hover{filter:brightness(1.1);box-shadow:0 0 20px rgba(37,99,235,.3)}
.btn-success{background:#22c55e;border-color:transparent;color:#fff;font-weight:600}
.btn-success:hover{filter:brightness(1.1);box-shadow:0 0 20px rgba(34,197,94,.3)}
.btn-danger{background:var(--comp-soft);border-color:rgba(239,68,68,.2);color:var(--comp)}
.btn-danger:hover{background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.3)}
.btn-ghost{background:transparent;border-color:var(--b2);color:var(--t3)}
.btn-ghost:hover{background:var(--glass2);color:var(--t2);border-color:var(--b3)}
.btn:active{transform:scale(.97);transition-duration:.05s}
.btn:disabled,.btn[disabled]{opacity:.5;cursor:not-allowed;pointer-events:none}
.btn-row{display:flex;gap:8px;flex-wrap:wrap}

/* ═══════════════════════════════════════════════════════
   MODALS
   ═══════════════════════════════════════════════════════ */
.modal-overlay{
  display:none;position:fixed;
  top:0;left:0;right:0;bottom:0;
  width:100%;height:100%;
  background:rgba(0,0,0,.4);
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  z-index:200;align-items:center;justify-content:center;
  overflow-y:auto;
}
.modal-overlay.active{display:flex;animation:overlayIn .15s ease-out}
@keyframes overlayIn{from{opacity:0}to{opacity:1}}
.modal{
  background:var(--s2);border:1px solid var(--b2);
  border-radius:var(--r-xl);padding:28px;
  max-width:440px;width:90%;
  box-shadow:var(--shadow-lg);
  animation:modalIn .2s cubic-bezier(.4,0,.2,1);
}
@keyframes modalIn{from{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal h3{font-size:20px;font-weight:700;margin-bottom:14px}
.modal.wide{max-width:700px}
.modal.xwide{max-width:900px;max-height:85vh;overflow-y:auto}

/* ═══════════════════════════════════════════════════════
   TOAST
   ═══════════════════════════════════════════════════════ */
.toast{
  position:fixed;bottom:24px;right:24px;
  background:var(--s3);border:1px solid var(--b2);
  border-radius:var(--r-md);padding:12px 18px;
  box-shadow:var(--shadow-lg);z-index:1000;
  transform:translateY(120%);opacity:0;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  max-width:320px;
}
.toast.show{transform:translateY(0);opacity:1}
.toast .tt{font-size:14px;font-weight:600;color:var(--accent)}
.toast .tm{font-size:14px;color:var(--t3);margin-top:2px}

/* ═══════════════════════════════════════════════════════
   EMPTY STATE
   ═══════════════════════════════════════════════════════ */
.empty{text-align:center;padding:48px 24px;color:var(--t4)}
.empty .empty-icon{font-size:40px;margin-bottom:12px;opacity:.3}
.empty .empty-text{font-size:16px;color:var(--t3)}

/* ═══════════════════════════════════════════════════════
   INLINE EDIT
   ═══════════════════════════════════════════════════════ */
.inline-edit{
  display:flex;align-items:center;gap:8px;margin-bottom:4px;
}
.inline-edit input{
  background:transparent;border:none;border-bottom:1px dashed var(--b2);
  color:var(--t1);font-size:28px;font-weight:700;letter-spacing:-.5px;
  padding:2px 4px;font-family:'Inter',system-ui,sans-serif;
  transition:border-color .15s;
  width:100%;max-width:400px;
}
.inline-edit input:focus{outline:none;border-bottom-color:var(--accent)}
.inline-edit input::placeholder{color:var(--t4)}

/* ═══════════════════════════════════════════════════════
   TAB BAR
   ═══════════════════════════════════════════════════════ */
.tab-bar{display:flex;gap:2px;margin-bottom:18px;border-bottom:1px solid var(--b1);padding-bottom:0}
.tab-btn{
  padding:10px 22px;font-size:14px;font-weight:500;
  border:none;background:transparent;color:var(--t3);
  cursor:pointer;font-family:inherit;
  border-bottom:2px solid transparent;
  transition:all .15s;margin-bottom:-1px;
}
.tab-btn:hover{color:var(--t2)}
.tab-btn.ac{color:var(--accent);border-bottom-color:var(--accent);font-weight:600}

/* ═══════════════════════════════════════════════════════
   SIGNATURE PAD
   ═══════════════════════════════════════════════════════ */
.sig-wrap{
  background:var(--s1);border:1px solid var(--b2);border-radius:var(--r-md);
  padding:4px;margin-bottom:12px;
}
.sig-wrap canvas{width:100%;border-radius:var(--r-sm);cursor:crosshair;touch-action:none}
.sig-label{font-size:13px;color:var(--t4);text-align:center;padding:4px;letter-spacing:.5px}

/* ═══════════════════════════════════════════════════════
   SETTINGS TABS
   ═══════════════════════════════════════════════════════ */
.settings-tabs{
  display:flex;gap:2px;border-bottom:2px solid var(--b1);
  overflow-x:auto;margin-bottom:24px;padding-bottom:0;
  -webkit-overflow-scrolling:touch;
}
.settings-tab{
  padding:10px 16px;cursor:pointer;white-space:nowrap;
  font-size:13px;font-weight:500;color:var(--t3);
  border-bottom:2px solid transparent;margin-bottom:-2px;
  transition:all .15s;background:none;border-top:none;border-left:none;border-right:none;
  font-family:inherit;display:flex;align-items:center;gap:6px;
}
.settings-tab:hover{color:var(--t2)}
.settings-tab.active{border-bottom-color:var(--accent);color:var(--accent);font-weight:600}
